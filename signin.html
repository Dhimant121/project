<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign in â€” RedStore</title>
  <style>
    :root{--brand:#2874f0;--muted:#666;--bg:#f1f3f6;--card:#fff}
    *{box-sizing:border-box}
    body{font-family:Inter,Segoe UI,Arial,sans-serif;background:var(--bg);margin:0;padding:24px;display:flex;align-items:center;justify-content:center;min-height:100vh}
    .shell{max-width:1000px;width:100%;display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:center}
    .hero{background:linear-gradient(180deg,#fff,#f9fbff);border-radius:8px;padding:28px;border:1px solid #e9eefb}
    .hero h1{margin:0 0 8px;font-size:28px}
    .hero p{color:var(--muted);margin:0 0 12px}
    .card{background:var(--card);padding:22px;border-radius:8px;border:1px solid #e6e6e9}
    label{display:block;margin-bottom:6px;font-size:13px;color:#333}
    input[type="email"],input[type="password"]{width:100%;padding:10px;border:1px solid #e6e6ea;border-radius:6px;font-size:14px}
    .btn{background:var(--brand);color:#fff;padding:10px 12px;border-radius:6px;border:0;cursor:pointer;width:100%;font-size:15px}
    .alt{background:transparent;border:1px solid #ddd;padding:10px 12px;border-radius:6px;cursor:pointer;width:100%}
    .hint{color:var(--muted);font-size:13px;margin-top:10px}
    .small{font-size:13px;color:var(--muted);margin-top:8px;text-align:center}
    .center{display:flex;gap:10px}
    @media(max-width:900px){.shell{grid-template-columns:1fr}.hero{order:2}.card{order:1}}
  </style>
  <link rel="stylesheet" href="/theme.css" />
</head>
<body>
  <a href="/" class="logo-link" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;margin-bottom:18px">
    <div style="width:40px;height:40px;background:linear-gradient(135deg,#ff8a80,#e53935);border-radius:8px;display:flex;align-items:center;justify-content:center;color:white;font-weight:700">R</div>
    <div style="line-height:1">
      <div style="font-weight:700">RedStore</div>
      <div style="font-size:12px;color:#666">redstore.in</div>
    </div>
  </a>

  <div class="shell">
    <div class="hero">
      <h1>Welcome back to RedStore</h1>
      <p>Sign in to access your orders, saved items and faster checkout.</p>
      <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=abc" alt="shopping" style="width:100%;border-radius:8px;object-fit:cover;max-height:300px"/>
    </div>

    <div class="card">
      <h2 style="margin:0 0 12px">Sign in</h2>
      <form id="signinForm">
        <div style="margin-bottom:12px">
          <label for="email">Email</label>
          <input id="email" type="email" required placeholder="you@example.com" />
        </div>
        <div style="margin-bottom:12px">
          <label for="password">Password</label>
          <input id="password" type="password" required placeholder="Your password" />
        </div>
        <div id="error" class="hint" style="display:none;color:#b00020"></div>
        <div style="margin-top:8px">
          <button id="submitBtn" class="btn" type="submit">Sign in securely</button>
        </div>
      </form>
      <div class="small">Use <strong>user@example.com</strong> / <strong>password</strong> for demo</div>
      <div class="small" style="margin-top:8px">New here? <a href="/signup.html">Create an account</a></div>
    </div>
  </div>

  <script>
    async function postJSON(url, body){
      const res = await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});
      const data = await res.json().catch(()=>({}));
      if(!res.ok) throw data;
      return data;
    }

    document.getElementById('signinForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const btn = document.getElementById('submitBtn');
      const errEl = document.getElementById('error'); errEl.style.display='none'; errEl.textContent='';
      btn.disabled = true; btn.textContent = 'Signing in...';
      try{
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value;
        await postJSON('/api/signin',{email,password});
        window.location.href = '/account.html';
      }catch(err){
        errEl.style.display='block'; errEl.textContent = err && err.error ? err.error : 'Sign in failed';
      }finally{ btn.disabled = false; btn.textContent = 'Sign in securely' }
    });
  </script>
  <script src="/script.js"></script>
  <script src="/theme.js"></script>
</body>
</html>




